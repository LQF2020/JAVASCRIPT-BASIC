<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #square{
            width: 300px;
            height: 300px;
            background: red;
            opacity:0.4;
            filter:alpha(opacity=40);
        }
    </style>
    <script>
        window.onload = function () {

            var square = document.getElementById('square');
            square.onmouseover = function () {
                startMove(100);
            };
            square.onmouseout = function () {
                startMove(30);
            }
            // filter默认为30，后期可以根据实际情况改变
            var filter = 30;
            var timer = null;
            function startMove(target) {
                clearInterval(timer);
                var speed = 0 ;
                console.log(filter);
                //根据目标值判定淡入淡出速度以及方向
                if(filter < target){
                    speed = 1;
                }else{
                    speed = -1;
                };
                //设置定时器
                timer = setInterval(function () {

                    if(filter!=target){
                        filter += speed;
                        square.style.filter = "alpha(opacity=" +filter+")";
                        square.style.opacity = filter/100;
                    }else{
                         clearInterval(timer);
                    }
                },10);
            }
        }
    </script>
</head>
<body>

<div id="square"></div>

</body>
</html>